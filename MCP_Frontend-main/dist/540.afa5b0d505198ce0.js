"use strict";(self.webpackChunkmatx=self.webpackChunkmatx||[]).push([[540],{49540:(Ke,R,o)=>{o.r(R),o.d(R,{SystemAdminModule:()=>ze});var g=o(69808),d=o(30325),M=o(77117),V=o(23635),Z=o(23213),E=o(23783),y=o(28144),p=o(87224),e=o(5e3),r=o(93075),U=o(52069),v=o(69071),A=o(28061),u=o(67322),T=o(77531),w=o(74107),I=o(90508),D=o(86856);function P(i,n){1&i&&e._UZ(0,"span",27)}function k(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e.YNc(1,P,1,0,"span",25),e._UZ(2,"i",26),e._uU(3," Save "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.loading[0]),e.xp6(1),e.Q6J("ngIf",t.loading[0])}}let F=(()=>{class i{constructor(t,s,a,l,c,m,f,q){this.route=t,this.fb=s,this.navigation=a,this.securityService=l,this.storageService=c,this.alertService=m,this.systemAdmin=f,this.dateService=q,this.loading=[!1,!1,!1],this.submitted=!1,this.isEdit=!1,this.isView=!1,this.isAddMode=!1,this.cssBodyWidth="col-10",this.accountStructure=[],this.validation_messages={}}ngOnInit(){this.action=this.route.snapshot.params.id,this.createForms(),this.prepareFormBasedOnAction(),0==this.isAddMode&&this.findEntityData()}ngOnDestroy(){}prepareFormBasedOnAction(){"Add"==this.action?(this.cssBodyWidth="col-12",null!=this.customerClassId&&this.f.customerClassId.setValue(parseInt(this.customerClassId.toString())),this.isAddMode=!this.data):"View"==this.action?(this.isView=!0,this.data=this.storageService.getEntity(),this.isAddMode=!this.data):"Edit"==this.action&&(this.isEdit=!0,this.data=this.storageService.getEntity(),this.isAddMode=!this.data)}createForms(){this.form=this.fb.group({channelId:[null],channelCode:[null],description:[null],channelUsername:[null],channelPassword:[null],enforcePwdExpiry:[null],expiryDate:[null],status:[null],createdBy:[this.securityService.currentUser.userName],createDt:[this.securityService.currentUser.processDate],modifyBy:[this.securityService.currentUser.userName],modifyDt:[this.securityService.currentUser.processDate]})}get f(){return this.form.controls}findEntityData(){this.f.channelId.setValue(this.data.channelId),this.f.channelCode.setValue(this.data.channelCode.trim()),this.f.description.setValue(this.data.description.trim()),this.f.channelUsername.setValue(this.data.channelUsername.trim()),this.f.channelPassword.setValue(this.data.channelPassword.trim()),this.f.enforcePwdExpiry.setValue(this.data.enforcePwdExpiry.trim()),this.f.expiryDate.setValue(this.data.expiryDate),this.f.status.setValue(this.data.status.trim()),this.f.createDt.setValue(this.data.createDt)}onSubmit(){if(this.submitted=!0,this.form.invalid)return this.alertService.displayInfo("Please fill all the fields"),void(this.loading[0]=!1);this.loading[0]=!0,this.systemAdmin.maintainServiceChannel(this.prepareSubmitData()).pipe((0,p.P)()).subscribe(t=>{this.loading[0]=!1,"00"===t.code?(this.alertService.displaySuccess("Record Saved Successfully"),this.submitted=!1,this.onClose()):this.alertService.displayError(t.message)},t=>{this.loading[0]=!1,this.submitted=!1,this.alertService.displayError(t)})}onKeyUP(t){this.f.channelCode.setValue(t.toUpperCase())}prepareSubmitData(){let t=new V.k;return t.channelId=this.f.channelId.value,t.channelCode=this.f.channelCode.value,t.description=this.f.description.value,t.channelUsername=this.f.channelUsername.value,t.channelPassword=this.f.channelPassword.value,t.enforcePwdExpiry=this.f.enforcePwdExpiry.value,t.expiryDate=this.dateService.isoDateString(this.f.expiryDate.value),t.status=this.f.status.value,t.createdBy=this.f.createdBy.value,t.createDt=this.f.createDt.value,t}onClose(){this.navigation.goBack()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.gz),e.Y36(r.qu),e.Y36(U.F),e.Y36(y.I),e.Y36(v.V),e.Y36(Z.c),e.Y36(E.O),e.Y36(M.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-service-channel-maintain"]],decls:57,vars:5,consts:[["header","Maintain Service Channel"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"col-sm-6"],["appearance","outline"],["matInput","","autocomplete","off","formControlName","description"],["matInput","","autocomplete","off","formControlName","channelCode",3,"readonly","input"],["matInput","","autocomplete","off","formControlName","channelUsername"],["matInput","","autocomplete","off","formControlName","channelPassword"],[1,"col-sm-4"],["formControlName","enforcePwdExpiry"],["value","N"],["value","Y"],["appearance","outline","appDateFormat",""],["matInput","","formControlName","expiryDate",3,"matDatepicker"],["matSuffix","",3,"for"],["expiryDatePicker",""],["formControlName","status"],["value","Active"],["value","Inactive"],[1,"col-md-12","text-right"],["class","btn btn-primary btn-sm mr-1 mb-1","style","width: 90px;",3,"disabled","click",4,"ngIf"],["type","button","type","button",1,"btn","btn-danger","btn-sm","mr-1","mb-1",2,"width","90px",3,"click"],[1,"fa","fa-times"],[1,"btn","btn-primary","btn-sm","mr-1","mb-1",2,"width","90px",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"fa","fa-check"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,s){if(1&t&&(e.TgZ(0,"p-panel",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"mat-form-field",4),e.TgZ(5,"mat-label"),e._uU(6,"Description:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.TgZ(9,"mat-form-field",4),e.TgZ(10,"mat-label"),e._uU(11,"Channel Code"),e.qZA(),e.TgZ(12,"input",6),e.NdJ("input",function(l){return s.onKeyUP(l.target.value)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",2),e.TgZ(14,"div",3),e.TgZ(15,"mat-form-field",4),e.TgZ(16,"mat-label"),e._uU(17,"Channel UserName:"),e.qZA(),e._UZ(18,"input",7),e.qZA(),e.qZA(),e.TgZ(19,"div",3),e.TgZ(20,"mat-form-field",4),e.TgZ(21,"mat-label"),e._uU(22,"Channel Password:"),e.qZA(),e._UZ(23,"input",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",2),e.TgZ(25,"div",9),e.TgZ(26,"mat-form-field",4),e.TgZ(27,"mat-label"),e._uU(28,"Enforce Password Expiry"),e.qZA(),e.TgZ(29,"mat-select",10),e.TgZ(30,"mat-option",11),e._uU(31,"NO"),e.qZA(),e.TgZ(32,"mat-option",12),e._uU(33,"YES"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",9),e.TgZ(35,"mat-form-field",13),e.TgZ(36,"mat-label"),e._uU(37,"Expiry date"),e.qZA(),e._UZ(38,"input",14),e._UZ(39,"mat-datepicker-toggle",15),e._UZ(40,"mat-datepicker",null,16),e.qZA(),e.qZA(),e.TgZ(42,"div",9),e.TgZ(43,"mat-form-field",4),e.TgZ(44,"mat-label"),e._uU(45,"Status"),e.qZA(),e.TgZ(46,"mat-select",17),e.TgZ(47,"mat-option",18),e._uU(48,"Active"),e.qZA(),e.TgZ(49,"mat-option",19),e._uU(50,"Inactive"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",2),e.TgZ(52,"div",20),e.YNc(53,k,4,2,"button",21),e.TgZ(54,"button",22),e.NdJ("click",function(){return s.onClose()}),e._UZ(55,"i",23),e._uU(56," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const a=e.MAs(41);e.xp6(1),e.Q6J("formGroup",s.form),e.xp6(11),e.Q6J("readonly",!s.isAddMode),e.xp6(26),e.Q6J("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(14),e.Q6J("ngIf",!s.isView)}},directives:[A.s,r._Y,r.JL,r.sg,u.KE,u.hX,T.Nt,r.Fj,r.JJ,r.u,w.gD,I.ey,D.hl,D.nW,u.R9,D.Mq,g.O5],styles:[""]}),i})();var C=o(45330),b=o(59783),h=o(81058);function O(i,n){1&i&&(e.TgZ(0,"tr",23),e.TgZ(1,"th"),e._uU(2,"Channel Code"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Description"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Enforce Password Expiry"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Status"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Create Date"),e.qZA(),e.qZA())}function B(i,n){if(1&i&&(e.TgZ(0,"tr",24),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(t.channelCode),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.enforcePwdExpiry),e.xp6(2),e.Oqu(t.status),e.xp6(2),e.Oqu(t.createDt)}}function Q(i,n){1&i&&e._UZ(0,"span",25)}let L=(()=>{class i{constructor(t,s,a,l,c,m,f){this.router=t,this.fb=s,this.storage=a,this.alertService=l,this.dialogService=c,this.messageService=m,this.systemAdminService=f,this.customerType=[],this.loading=[!1,!1,!1,!1]}ngOnInit(){this.createForms(),this.onSearch()}createForms(){this.form=this.fb.group({fullName:[null]})}get f(){return this.form.controls}onSearch(){this.f.fullName.setValue(""==this.f.fullName.value?null:this.f.fullName.value),this.loading[0]=!0,this.systemAdminService.findChannels(this.form.value).pipe((0,p.P)()).subscribe(t=>{this.loading[0]=!1,"00"===t.code?this.data=t.data:this.alertService.displayError(t.message)},t=>{this.loading[0]=!1,this.alertService.displayError(t)})}onEdit(){null!=this.selectedData?(this.storage.setEntity(this.selectedData),this.router.navigate(["system-admin/service-channel","Edit"])):this.alertService.displayInfo("Select a record to modify")}onView(){null!=this.selectedData?(this.storage.setEntity(this.selectedData),this.router.navigate(["system-admin/service-channel","View"])):this.alertService.displayInfo("Select a record to view")}onAdd(){this.router.navigate(["system-admin/service-channel","Add"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(r.qu),e.Y36(v.V),e.Y36(Z.c),e.Y36(C.xA),e.Y36(b.ez),e.Y36(E.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-service-channel-search"]],decls:32,vars:9,consts:[["header","Service Channels"],[3,"formGroup"],[1,"form-row"],[1,"col-sm-4"],["appearance","outline"],["matInput","","autocomplete","off","type","text","formControlName","fullName"],[1,"col-md-8","text-right"],[1,"btn","btn-primary","btn-sm","mr-1","mb-1",2,"height","50%",3,"click"],[1,"fa","fa-search"],[1,"btn","btn-warning","btn-sm","mr-1","mb-1",2,"height","50%",3,"click"],[1,"fa","fa-eye"],[1,"btn","btn-success","btn-sm","mr-1","mb-1",2,"height","50%",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-plus"],["routerLink","/dashboard/analytics",1,"btn","btn-danger","btn-sm","mr-1","mb-1",2,"height","50%"],[1,"fa","fa-times"],[1,"form-group","form-row"],[1,"col-sm-12"],["styleClass","p-datatable-sm mt-1 ml-2 mr-2 prime-ng-table","responsiveLayout","scroll","selectionMode","single","dataKey","channelId",3,"value","paginator","rows","showCurrentPageReport","responsive","selection","loading","selectionChange"],["pTemplate","header"],["pTemplate","body"],[1,"col-sm-12","text-center"],["style","color: blue;","class","spinner-border spinner-border-sm mr-1 text-center",4,"ngIf"],[2,"font-size","12px"],[2,"font-size","12px",3,"pSelectableRow"],[1,"spinner-border","spinner-border-sm","mr-1","text-center",2,"color","blue"]],template:function(t,s){1&t&&(e.TgZ(0,"p-panel",0),e.TgZ(1,"form",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"mat-form-field",4),e.TgZ(5,"mat-label"),e._uU(6,"User Name:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"button",7),e.NdJ("click",function(){return s.onSearch()}),e._UZ(10,"i",8),e._uU(11," Search "),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return s.onView()}),e._UZ(13,"i",10),e._uU(14," View "),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return s.onEdit()}),e._UZ(16,"i",12),e._uU(17," Edit "),e.qZA(),e.TgZ(18,"button",7),e.NdJ("click",function(){return s.onAdd()}),e._UZ(19,"i",13),e._uU(20," Add "),e.qZA(),e.TgZ(21,"button",14),e._UZ(22,"i",15),e._uU(23," Close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"div",17),e.TgZ(26,"p-table",18),e.NdJ("selectionChange",function(l){return s.selectedData=l}),e.YNc(27,O,11,0,"ng-template",19),e.YNc(28,B,11,6,"ng-template",20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",2),e.TgZ(30,"div",21),e.YNc(31,Q,1,0,"span",22),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",s.form),e.xp6(25),e.Q6J("value",s.data)("paginator",!0)("rows",50)("showCurrentPageReport",!0)("responsive",!0)("selection",s.selectedData)("loading",s.loading[0]),e.xp6(5),e.Q6J("ngIf",s.loading[0]))},directives:[A.s,r._Y,r.JL,r.sg,u.KE,u.hX,T.Nt,r.Fj,r.JJ,r.u,d.rH,h.iA,b.jx,h.Ei,g.O5],styles:[""]}),i})();class J{}var _=o(77207);function G(i,n){1&i&&e._UZ(0,"span",15)}function z(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e.YNc(1,G,1,0,"span",13),e._UZ(2,"i",14),e._uU(3," Save "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.loading[0]),e.xp6(1),e.Q6J("ngIf",t.loading[0])}}let H=(()=>{class i{constructor(t,s,a,l,c,m,f){this.route=t,this.fb=s,this.navigation=a,this.securityService=l,this.storageService=c,this.alertService=m,this.systemAdmin=f,this.loading=[!1,!1,!1],this.submitted=!1,this.isEdit=!1,this.isView=!1,this.isAddMode=!1,this.cssBodyWidth="col-10",this.accountStructure=[],this.validation_messages={}}ngOnInit(){this.action=this.route.snapshot.params.id,this.createForms(),this.prepareFormBasedOnAction(),0==this.isAddMode&&this.findEntityData()}ngOnDestroy(){}prepareFormBasedOnAction(){"Add"==this.action?(this.cssBodyWidth="col-12",this.isAddMode=!this.selectedData):"View"==this.action?(this.isView=!0,this.selectedData=this.storageService.getEntity(),this.isAddMode=!this.selectedData):"Edit"==this.action&&(this.isEdit=!0,this.selectedData=this.storageService.getEntity(),this.isAddMode=!this.selectedData)}createForms(){this.form=this.fb.group({paramId:[null],paramCode:[null],paramValue:[null],paramDescr:[null],status:["Active"],userName:[this.securityService.currentUser.userName],editable:["N"],modifyDate:[this.securityService.currentUser.processDate]})}get f(){return this.form.controls}findEntityData(){this.f.paramId.setValue(this.selectedData.paramId),this.f.paramCode.setValue(this.selectedData.paramCode),this.f.paramValue.setValue(this.selectedData.paramValue),this.f.paramDescr.setValue(this.selectedData.paramDescr),this.f.status.setValue(this.selectedData.status),this.f.userName.setValue(this.selectedData.userName),this.f.edit.setValue(!0)}onSubmit(){if(this.submitted=!0,this.form.invalid)return this.alertService.displayInfo("Please fill all the fields"),void(this.loading[0]=!1);this.loading[0]=!0,this.systemAdmin.maintainParameters(this.prepareSubmitData()).pipe((0,p.P)()).subscribe(t=>{this.loading[0]=!1,"00"===t.code?(this.alertService.displaySuccess("Record Saved Successfully"),this.submitted=!1,this.onClose()):this.alertService.displayError(t.message)},t=>{this.loading[0]=!1,this.submitted=!1,this.alertService.displayError(t)})}onKeyUP(t){this.f.userName.setValue(t.toUpperCase())}prepareSubmitData(){let t=new J;return t.paramId=this.f.paramId.value,t.paramCode=this.f.paramCode.value,t.paramValue=this.f.paramValue.value,t.paramDescr=this.f.paramDescr.value,t.status=this.f.status.value,t.userName=this.f.userName.value,t.modifyDate=this.f.modifyDate.value,t}onClose(){this.navigation.goBack()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.gz),e.Y36(r.qu),e.Y36(U.F),e.Y36(y.I),e.Y36(v.V),e.Y36(Z.c),e.Y36(_.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-system-parameter-maintain"]],decls:26,vars:4,consts:[["header","Maintain Parameter"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"col-sm-12"],["appearance","outline"],["matInput","","autocomplete","off","formControlName","paramCode",3,"readonly"],["matInput","","autocomplete","off","formControlName","paramDescr",3,"readonly"],["matInput","","autocomplete","off","formControlName","paramValue"],[1,"col-md-12","text-right"],["class","btn btn-primary btn-sm mr-1 mb-1","style","width: 90px;",3,"disabled","click",4,"ngIf"],["type","button","type","button",1,"btn","btn-danger","btn-sm","mr-1","mb-1",2,"width","90px",3,"click"],[1,"fa","fa-times"],[1,"btn","btn-primary","btn-sm","mr-1","mb-1",2,"width","90px",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"fa","fa-check"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,s){1&t&&(e.TgZ(0,"p-panel",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"mat-form-field",4),e.TgZ(5,"mat-label"),e._uU(6,"Parameter code:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",2),e.TgZ(9,"div",3),e.TgZ(10,"mat-form-field",4),e.TgZ(11,"mat-label"),e._uU(12,"Description"),e.qZA(),e._UZ(13,"input",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",2),e.TgZ(15,"div",3),e.TgZ(16,"mat-form-field",4),e.TgZ(17,"mat-label"),e._uU(18,"Parameter value:"),e.qZA(),e._UZ(19,"input",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",2),e.TgZ(21,"div",8),e.YNc(22,z,4,2,"button",9),e.TgZ(23,"button",10),e.NdJ("click",function(){return s.onClose()}),e._UZ(24,"i",11),e._uU(25," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",s.form),e.xp6(6),e.Q6J("readonly",!s.isAddMode),e.xp6(6),e.Q6J("readonly",!s.isAddMode),e.xp6(9),e.Q6J("ngIf",!s.isView))},directives:[A.s,r._Y,r.JL,r.sg,u.KE,u.hX,T.Nt,r.Fj,r.JJ,r.u,g.O5],styles:[""]}),i})();function K(i,n){1&i&&(e.TgZ(0,"tr",16),e.TgZ(1,"th"),e._uU(2,"Code"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Value"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Description"),e.qZA(),e.qZA())}function X(i,n){if(1&i&&(e.TgZ(0,"tr",17),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(t.paramCode),e.xp6(2),e.Oqu(t.paramValue),e.xp6(2),e.Oqu(t.paramDescr)}}function j(i,n){1&i&&e._UZ(0,"span",18)}let W=(()=>{class i{constructor(t,s,a,l,c,m){this.router=t,this.storage=s,this.alertService=a,this.dialogService=l,this.messageService=c,this.globalService=m,this.customerType=[],this.loading=[!1,!1,!1,!1]}ngOnInit(){this.onSearch()}onSearch(){let t=new J;this.loading[0]=!0,this.globalService.findParameters(t).pipe((0,p.P)()).subscribe(s=>{this.loading[0]=!1,"00"===s.code?this.data=s.data:this.alertService.displayError(s.message)},s=>{this.loading[0]=!1,this.alertService.displayError(s)})}onEdit(){null!=this.selectedData?(this.storage.setEntity(this.selectedData),this.router.navigate(["system-admin/system-parameter","Edit"])):this.alertService.displayInfo("Select a record to modify")}onView(){null!=this.selectedData?(this.storage.setEntity(this.selectedData),this.router.navigate(["system-admin/system-parameter","View"])):this.alertService.displayInfo("Select a record to view")}onAdd(){this.router.navigate(["system-admin/system-parameter","Add"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(v.V),e.Y36(Z.c),e.Y36(C.xA),e.Y36(b.ez),e.Y36(_.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-system-parameter-search"]],decls:20,vars:7,consts:[["header","System Parameters"],[1,"form-row"],[1,"col-md-12","text-right"],[1,"btn","btn-warning","btn-sm","mr-1","mb-1",3,"click"],[1,"fa","fa-eye"],[1,"btn","btn-success","btn-sm","mr-1","mb-1",3,"click"],[1,"fa","fa-pencil"],["routerLink","/dashboard/analytics",1,"btn","btn-danger","btn-sm","mr-1","mb-1"],[1,"fa","fa-times"],[1,"form-group","form-row"],[1,"col-sm-12"],["styleClass","p-datatable-sm mt-1 ml-2 mr-2 prime-ng-table","responsiveLayout","scroll","selectionMode","single","dataKey","paramId","responsiveLayout","scroll",3,"value","paginator","rows","responsive","selection","loading","selectionChange"],["pTemplate","header"],["pTemplate","body"],[1,"col-sm-12","text-center"],["style","color: blue;","class","spinner-border spinner-border-sm mr-1 text-center",4,"ngIf"],[2,"font-size","12px"],[2,"font-size","12px",3,"pSelectableRow"],[1,"spinner-border","spinner-border-sm","mr-1","text-center",2,"color","blue"]],template:function(t,s){1&t&&(e.TgZ(0,"p-panel",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return s.onView()}),e._UZ(4,"i",4),e._uU(5," View "),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return s.onEdit()}),e._UZ(7,"i",6),e._uU(8," Edit "),e.qZA(),e.TgZ(9,"button",7),e._UZ(10,"i",8),e._uU(11," Close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"div",10),e.TgZ(14,"p-table",11),e.NdJ("selectionChange",function(l){return s.selectedData=l}),e.YNc(15,K,7,0,"ng-template",12),e.YNc(16,X,7,4,"ng-template",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",1),e.TgZ(18,"div",14),e.YNc(19,j,1,0,"span",15),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(14),e.Q6J("value",s.data)("paginator",!0)("rows",50)("responsive",!0)("selection",s.selectedData)("loading",s.loading[0]),e.xp6(5),e.Q6J("ngIf",s.loading[0]))},directives:[A.s,d.rH,h.iA,b.jx,h.Ei,g.O5],styles:[""]}),i})();var N=o(58233);class S{}function $(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",29),e.TgZ(1,"span",30),e._UZ(2,"i",31),e.TgZ(3,"input",32),e.NdJ("input",function(a){return e.CHM(t),e.oxw(),e.MAs(18).filterGlobal(a.target.value,"contains")}),e.qZA(),e.qZA(),e.qZA()}}function ee(i,n){1&i&&(e.TgZ(0,"tr",33),e.TgZ(1,"th",34),e._uU(2,"Description"),e.qZA(),e.TgZ(3,"th",35),e._UZ(4,"p-tableHeaderCheckbox"),e.qZA(),e.qZA())}function te(i,n){if(1&i&&(e.TgZ(0,"tr",33),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"p-tableCheckbox",36),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Q6J("value",t)}}function se(i,n){1&i&&e._UZ(0,"i",37)}function ie(i,n){1&i&&e._UZ(0,"span",38)}function ae(i,n){1&i&&e._UZ(0,"i",39)}function ne(i,n){1&i&&e._UZ(0,"span",38)}function re(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",29),e.TgZ(1,"span",30),e._UZ(2,"i",31),e.TgZ(3,"input",32),e.NdJ("input",function(a){return e.CHM(t),e.oxw(),e.MAs(18).filterGlobal(a.target.value,"contains")}),e.qZA(),e.qZA(),e.qZA()}}function oe(i,n){1&i&&(e.TgZ(0,"tr",33),e.TgZ(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",34),e._uU(4,"Description"),e.qZA(),e.qZA())}function le(i,n){if(1&i&&(e.TgZ(0,"tr",33),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",36),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.description)}}const Y=function(){return["name","country.name","representative.name","status"]};let ce=(()=>{class i{constructor(t,s,a,l,c,m,f,q){this.route=t,this.alertService=s,this.fb=a,this.navigation=l,this.authService=c,this.storageService=m,this.adminService=f,this.dialogService=q,this.loading=[!1,!1,!1],this.submitted=!1,this.limitRef=10,this.selectedUnAssignedAccess=[],this.selectedAssignedService=[],this.isEdit=!1,this.isView=!1,this.isAddMode=!1,this.loadingIndicator=!0,this.cssBodyWidth="col-10",this.SelectionType=N.RT,this.ColumnMode=N.hq,this.columns=[{name:"Access Right",prop:"description"}],this.filterDataUnAssigned=[],this.filterDataAssigned=[]}ngOnInit(){this.action=this.route.snapshot.params.id,this.selectedData=this.storageService.getEntity(),this.createForms(),this.findUnAssignedAccess(),this.findAssignedOperationServices()}ngOnDestroy(){}get f(){return this.form.controls}createForms(){this.form=this.fb.group({id:[null],edit:!1})}findAssignedOperationServices(){let t=new S;t.userTypeId=this.selectedData.userTypeId,t.accessCategory="GLOBAL",this.loading[0]=!0,this.assignedOperationService=[],this.filterDataAssigned=null,this.adminService.findAssignedAccessRights(t).pipe((0,p.P)()).subscribe(s=>{this.loading[0]=!1,"00"===s.code&&(this.assignedOperationService=s.data,this.filterDataAssigned=s.data)},s=>{this.loading[0]=!1,this.alertService.displayError(s)})}findUnAssignedAccess(){let t=new S;t.userTypeId=this.selectedData.userTypeId,t.accessCategory="GLOBAL",this.unAssignedAccess=null,this.loading[0]=!0,this.unAssignedAccess=[],this.filterDataUnAssigned=null,this.adminService.findUnAssignedAccessRights(t).pipe((0,p.P)()).subscribe(s=>{this.loading[0]=!1,"00"===s.code&&(this.unAssignedAccess=s.data,this.filterDataUnAssigned=s.data)},s=>{this.loading[0]=!1,this.alertService.displayError(s)})}assignOperationService(){if(0==this.selectedUnAssignedAccess.length)return void this.alertService.displayError("Select access rights to assign");let t=[],s=new S;for(const a of this.selectedUnAssignedAccess)s=new S,s.userTypeId=this.selectedData.userTypeId,s.menuId=a.menuId,s.createdBy=this.authService.currentUser.userName,t.push(s);this.loading[1]=!0,this.adminService.assignAccessRight(t).pipe((0,p.P)()).subscribe(a=>{this.loading[1]=!1,"00"===a.code?(this.selectedUnAssignedAccess=[],this.findAssignedOperationServices(),this.findUnAssignedAccess()):this.alertService.displayError(a.message)},a=>{this.loading[1]=!1,this.alertService.displayError(a)})}revokeOperationService(){if(0==this.selectedAssignedService.length)return void this.alertService.displayError("Select access rights to revoke");let t=[],s=new S;for(const a of this.selectedAssignedService)s=new S,s.userTypeId=this.selectedData.userTypeId,s.menuId=a.menuId,s.createdBy=this.authService.currentUser.userName,t.push(s);this.loading[2]=!0,this.adminService.revokeAccessRight(t).pipe((0,p.P)()).subscribe(a=>{this.loading[2]=!1,"00"===a.code?(this.selectedAssignedService=[],this.findAssignedOperationServices(),this.findUnAssignedAccess()):this.alertService.displayError(a.message)},a=>{this.loading[1]=!1,this.alertService.displayError(a)})}filterUpdateUnAssigned(t){const s=t.target.value.toLowerCase(),a=this.filterDataUnAssigned.filter(function(l){return-1!==l.description.toLowerCase().indexOf(s)||!s});this.unAssignedAccess=a,this.table.offset=0}filterUpdateAssigned(t){const s=t.target.value.toLowerCase(),a=this.filterDataAssigned.filter(function(l){return-1!==l.description.toLowerCase().indexOf(s)||!s});this.assignedOperationService=a,this.table.offset=0}unAssignedAccessOnSelect({selected:t}){this.selectedUnAssignedAccess.splice(0,this.selectedUnAssignedAccess.length),this.selectedUnAssignedAccess.push(...t),console.log(this.selectedUnAssignedAccess)}assignedAccessOnSelect({selected:t}){this.selectedAssignedService.splice(0,this.selectedAssignedService.length),this.selectedAssignedService.push(...t),console.log(this.selectedAssignedService)}onClose(){this.navigation.goBack()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.gz),e.Y36(Z.c),e.Y36(r.qu),e.Y36(U.F),e.Y36(y.I),e.Y36(v.V),e.Y36(_.o),e.Y36(C.xA))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-role-access-right"]],viewQuery:function(t,s){if(1&t&&e.Gf(N.nE,5),2&t){let a;e.iGM(a=e.CRH())&&(s.table=a.first)}},decls:50,vars:21,consts:[[1,"users-edit"],[1,"card"],[1,"card-content"],[1,"card-body"],[3,"formGroup"],[1,"mb-3"],[1,"row"],[1,"col-12"],["id","content-types"],[1,"row","match-height"],[1,"col"],[1,"col-12","mb-1"],[1,"content-sub-header","mb-1"],["dataKey","menuId",3,"value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"col-sm-1","text-center",2,"margin-top","auto","margin-bottom","auto"],[1,"form-row"],[1,"col-sm-12"],["type","button",1,"btn","btn-sm","btn-info","mb-1",3,"click"],["class","fa fa-forward","aria-hidden","true",4,"ngIf"],["style","color: blue;","class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","fa fa-backward","aria-hidden","true",4,"ngIf"],[1,"form-row","form-group"],[1,"col-12","d-flex","justify-content-end","flex-sm-row","flex-column","mt-0","mt-sm-0"],["type","button",1,"btn","btn-sm","btn-danger","mr-0","mb-1",3,"click"],[1,"fa","fa-close"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"font-size","13px"],["pSortableColumn","description"],[2,"width","3rem"],[3,"value"],["aria-hidden","true",1,"fa","fa-forward"],[1,"spinner-border","spinner-border-sm","mr-1",2,"color","blue"],["aria-hidden","true",1,"fa","fa-backward"]],template:function(t,s){1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"form",4),e.TgZ(5,"h4",5),e._uU(6,"USER ROLE ACCESS RIGHTS"),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"section",8),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e.TgZ(12,"div",6),e.TgZ(13,"div",11),e.TgZ(14,"p",12),e._uU(15,"Available Access Rights."),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",3),e.TgZ(17,"p-table",13,14),e.NdJ("selectionChange",function(l){return s.selectedUnAssignedAccess=l}),e.YNc(19,$,4,0,"ng-template",15),e.YNc(20,ee,5,0,"ng-template",16),e.YNc(21,te,5,2,"ng-template",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",18),e._UZ(23,"br"),e.TgZ(24,"div",19),e.TgZ(25,"div",20),e.TgZ(26,"button",21),e.NdJ("click",function(){return s.assignOperationService()}),e.YNc(27,se,1,0,"i",22),e.YNc(28,ie,1,0,"span",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",19),e.TgZ(30,"div",20),e.TgZ(31,"button",21),e.NdJ("click",function(){return s.revokeOperationService()}),e.YNc(32,ae,1,0,"i",24),e.YNc(33,ne,1,0,"span",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",10),e.TgZ(35,"div",6),e.TgZ(36,"div",11),e.TgZ(37,"p",12),e._uU(38,"Assigned Access Rights."),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",3),e.TgZ(40,"p-table",13,14),e.NdJ("selectionChange",function(l){return s.selectedAssignedService=l}),e.YNc(42,re,4,0,"ng-template",15),e.YNc(43,oe,5,0,"ng-template",16),e.YNc(44,le,5,2,"ng-template",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",25),e.TgZ(46,"div",26),e.TgZ(47,"button",27),e.NdJ("click",function(){return s.onClose()}),e._UZ(48,"i",28),e._uU(49," Close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("formGroup",s.form),e.xp6(13),e.Q6J("value",s.unAssignedAccess)("rows",40)("paginator",!0)("globalFilterFields",e.DdM(19,Y))("selection",s.selectedUnAssignedAccess)("rowHover",!0)("showCurrentPageReport",!0),e.xp6(10),e.Q6J("ngIf",!s.loading[1]),e.xp6(1),e.Q6J("ngIf",s.loading[1]),e.xp6(4),e.Q6J("ngIf",!s.loading[2]),e.xp6(1),e.Q6J("ngIf",s.loading[2]),e.xp6(7),e.Q6J("value",s.assignedOperationService)("rows",40)("paginator",!0)("globalFilterFields",e.DdM(20,Y))("selection",s.selectedAssignedService)("rowHover",!0)("showCurrentPageReport",!0))},directives:[r._Y,r.JL,r.sg,h.iA,b.jx,h.lQ,h.Mo,h.UA,g.O5],styles:[""]}),i})();class x{}function de(i,n){1&i&&e._UZ(0,"span",14)}function me(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().goToAccessRights()}),e.YNc(1,de,1,0,"span",12),e._UZ(2,"i",13),e._uU(3," Access Rights "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.loading[0]),e.xp6(1),e.Q6J("ngIf",t.loading[0])}}function ue(i,n){1&i&&e._UZ(0,"span",14)}function pe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e.YNc(1,ue,1,0,"span",12),e._UZ(2,"i",13),e._uU(3," Save "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.loading[0]),e.xp6(1),e.Q6J("ngIf",t.loading[0])}}let he=(()=>{class i{constructor(t,s,a,l,c,m,f,q,He){this.route=t,this.router=s,this.alertService=a,this.fb=l,this.navigation=c,this.authService=m,this.storageService=f,this.adminService=q,this.dialogService=He,this.loading=[!1,!1,!1],this.submitted=!1,this.isEdit=!1,this.isView=!1,this.isAddMode=!1,this.cssBodyWidth="col-10",this.validation_messages={estateName:[{type:"required",message:"Service code is\xa0required"}],estateLocation:[{type:"required",message:"Description is\xa0required"}]}}ngOnInit(){this.action=this.route.snapshot.params.id,this.createForms(),this.prepareFormBasedOnAction()}ngOnDestroy(){}prepareFormBasedOnAction(){"Add"==this.action?(this.cssBodyWidth="col-12",this.isAddMode=!this.selectedData):"View"==this.action?(this.isView=!0,this.selectedData=this.storageService.getEntity(),this.isAddMode=!this.selectedData,this.findEntityData()):"Edit"==this.action&&(this.isEdit=!0,this.selectedData=this.storageService.getEntity(),this.isAddMode=!this.selectedData,this.findEntityData())}createForms(){this.form=this.fb.group({userTypeId:[null],category:["BACKOFFICE"],description:[null,r.kI.required],createdBy:[this.authService.currentUser.userName],createDt:[this.authService.currentUser.processDate],modifiedBy:[this.authService.currentUser.userName],modifyDt:[this.authService.currentUser.processDate],edit:!1})}get f(){return this.form.controls}findEntityData(){this.f.userTypeId.setValue(this.selectedData.userTypeId),this.f.description.setValue(this.selectedData.description),this.f.createdBy.setValue(this.selectedData.createdBy),this.f.createDt.setValue(this.selectedData.createDt)}onSubmit(){this.submitted=!0,this.form.invalid?this.alertService.displayInfo("Data validation failed. Fill all required fields correctly"):(this.loading[0]=!0,this.adminService.maintainMemberType(this.prepareSubmitData()).pipe((0,p.P)()).subscribe(t=>{this.loading[0]=!1,"00"===t.code?(this.submitted=!1,this.onClose()):this.alertService.displayError(t.message)},t=>{this.submitted=!1,this.alertService.displayError(t)}))}prepareSubmitData(){let t=new x;return t.userTypeId=this.f.userTypeId.value,t.description=this.f.description.value,t.createdBy=this.f.createdBy.value,t.modifiedBy=this.f.modifiedBy.value,t}onClose(){this.navigation.goBack()}goToAccessRights(){this.router.navigate(["/system-admin/user-role-access"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(Z.c),e.Y36(r.qu),e.Y36(U.F),e.Y36(y.I),e.Y36(v.V),e.Y36(_.o),e.Y36(C.xA))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-roles-maintain"]],decls:15,vars:3,consts:[["header","Maintain User"],[3,"formGroup"],[1,"form-row"],[1,"col-sm-12"],["appearance","outline"],["matInput","","autocomplete","off","formControlName","description"],[1,"col-md-12","text-right"],["class","btn btn-primary btn-sm mr-1 mb-1",3,"disabled","click",4,"ngIf"],["class","btn btn-primary btn-sm mr-1 mb-1","style","width: 90px;",3,"disabled","click",4,"ngIf"],["type","button","type","button",1,"btn","btn-danger","btn-sm","mr-1","mb-1",2,"width","90px",3,"click"],[1,"fa","fa-times"],[1,"btn","btn-primary","btn-sm","mr-1","mb-1",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"fa","fa-check"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"btn","btn-primary","btn-sm","mr-1","mb-1",2,"width","90px",3,"disabled","click"]],template:function(t,s){1&t&&(e.TgZ(0,"p-panel",0),e.TgZ(1,"form",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"mat-form-field",4),e.TgZ(5,"mat-label"),e._uU(6,"Description:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",2),e.TgZ(9,"div",6),e.YNc(10,me,4,2,"button",7),e.YNc(11,pe,4,2,"button",8),e.TgZ(12,"button",9),e.NdJ("click",function(){return s.onClose()}),e._UZ(13,"i",10),e._uU(14," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",s.form),e.xp6(9),e.Q6J("ngIf",s.isEdit),e.xp6(1),e.Q6J("ngIf",!s.isView))},directives:[A.s,r._Y,r.JL,r.sg,u.KE,u.hX,T.Nt,r.Fj,r.JJ,r.u,g.O5],styles:[""]}),i})();function fe(i,n){1&i&&(e.TgZ(0,"tr",18),e.TgZ(1,"th"),e._uU(2,"Description"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Create Date"),e.qZA(),e.qZA())}function ge(i,n){if(1&i&&(e.TgZ(0,"tr",19),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.createDt)}}function Ze(i,n){1&i&&e._UZ(0,"span",20)}let ve=(()=>{class i{constructor(t,s,a,l,c){this.router=t,this.admin=s,this.storage=a,this.alertService=l,this.authService=c,this.customerType=[],this.loading=[!1,!1,!1,!1],this.viewAccess=!1,this.editAccess=!1,this.addAccess=!1,this.columns=[{name:"id",prop:"id"},{name:"plotNumber",prop:"Plot Number"}],this.filterData=[]}ngOnInit(){this.determineAccessArights(),this.onSearch()}determineAccessArights(){this.viewAccess=this.authService.getAccessRights("userRoleView"),this.editAccess=this.authService.getAccessRights("userRoleEdit"),this.addAccess=this.authService.getAccessRights("userRoleAdd")}onSearch(){let t=new x;this.data=[],this.filterData=null,this.admin.findMemberType(t).pipe((0,p.P)()).subscribe(s=>{"00"===s.code?(this.data=s.data,this.filterData=s.data):this.alertService.displayError(s.message)},s=>{this.alertService.displayError(s)})}onEdit(){null!=this.selectedData?(this.storage.setEntity(this.selectedData),this.router.navigate(["/system-admin/user-role","Edit"])):this.alertService.displayInfo("Select a record to modify")}onView(){null!=this.selectedData?(this.storage.setEntity(this.selectedData),this.router.navigate(["/system-admin/user-role","View"])):this.alertService.displayInfo("Select a record to view")}onAdd(){this.router.navigate(["/system-admin/user-role","Add"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(_.o),e.Y36(v.V),e.Y36(Z.c),e.Y36(y.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-roles-search"]],viewQuery:function(t,s){if(1&t&&e.Gf(N.nE,5),2&t){let a;e.iGM(a=e.CRH())&&(s.table=a.first)}},decls:23,vars:7,consts:[["header","Billers"],[1,"form-row"],[1,"col-md-12","text-right"],[1,"btn","btn-warning","btn-sm","mr-1","mb-1",3,"click"],[1,"fa","fa-eye"],[1,"btn","btn-success","btn-sm","mr-1","mb-1",3,"click"],[1,"fa","fa-pencil"],[1,"btn","btn-primary","btn-sm","mr-1","mb-1",3,"click"],[1,"fa","fa-plus"],["routerLink","/dashboard/analytics",1,"btn","btn-danger","btn-sm","mr-1","mb-1"],[1,"fa","fa-times"],[1,"form-group","form-row"],[1,"col-sm-12"],["styleClass","p-datatable-sm mt-1 ml-2 mr-2 prime-ng-table","responsiveLayout","scroll","selectionMode","single","dataKey","userTypeId","responsiveLayout","scroll",3,"value","paginator","rows","responsive","selection","loading","selectionChange"],["pTemplate","header"],["pTemplate","body"],[1,"col-sm-12","text-center"],["style","color: blue;","class","spinner-border spinner-border-sm mr-1 text-center",4,"ngIf"],[2,"font-size","12px"],[2,"font-size","12px",3,"pSelectableRow"],[1,"spinner-border","spinner-border-sm","mr-1","text-center",2,"color","blue"]],template:function(t,s){1&t&&(e.TgZ(0,"p-panel",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return s.onView()}),e._UZ(4,"i",4),e._uU(5," View "),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return s.onEdit()}),e._UZ(7,"i",6),e._uU(8," Edit "),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return s.onAdd()}),e._UZ(10,"i",8),e._uU(11," Add "),e.qZA(),e.TgZ(12,"button",9),e._UZ(13,"i",10),e._uU(14," Close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"div",12),e.TgZ(17,"p-table",13),e.NdJ("selectionChange",function(l){return s.selectedData=l}),e.YNc(18,fe,5,0,"ng-template",14),e.YNc(19,ge,5,3,"ng-template",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",1),e.TgZ(21,"div",16),e.YNc(22,Ze,1,0,"span",17),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(17),e.Q6J("value",s.data)("paginator",!0)("rows",50)("responsive",!0)("selection",s.selectedData)("loading",s.loading[0]),e.xp6(5),e.Q6J("ngIf",s.loading[0]))},directives:[A.s,d.rH,h.iA,b.jx,h.Ei,g.O5],styles:[""]}),i})();var Ae=o(20235);function be(i,n){if(1&i&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.userTypeId),e.xp6(1),e.hij(" ",t.description," ")}}function Te(i,n){1&i&&e._UZ(0,"span",26)}function _e(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e.YNc(1,Te,1,0,"span",24),e._UZ(2,"i",25),e._uU(3," Save "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.loading[0]),e.xp6(1),e.Q6J("ngIf",t.loading[0])}}let ye=(()=>{class i{constructor(t,s,a,l,c,m,f){this.route=t,this.fb=s,this.navigation=a,this.securityService=l,this.storageService=c,this.alertService=m,this.systemAdmin=f,this.loading=[!1,!1,!1],this.submitted=!1,this.isEdit=!1,this.isView=!1,this.isAddMode=!1,this.cssBodyWidth="col-10",this.userRolesPickList=[],this.validation_messages={}}ngOnInit(){this.action=this.route.snapshot.params.id,this.createForms(),this.prepareFormBasedOnAction(),this.findUserRole(),0==this.isAddMode&&this.findEntityData()}ngOnDestroy(){}prepareFormBasedOnAction(){"Add"==this.action?(this.cssBodyWidth="col-12",null!=this.customerClassId&&this.f.customerClassId.setValue(parseInt(this.customerClassId.toString())),this.isAddMode=!this.selectedData):"View"==this.action?(this.isView=!0,this.selectedData=this.storageService.getEntity(),this.isAddMode=!this.selectedData):"Edit"==this.action&&(this.isEdit=!0,this.selectedData=this.storageService.getEntity(),this.isAddMode=!this.selectedData)}createForms(){this.form=this.fb.group({employeeId:[null],userName:[null],fullName:[null],userRoleId:[null],emailAddress:[null],phoneNo:[null],receiveBillerStmnt:[null],lockUser:[null],pwdEnhancedFlag:[null],userPwd:[null],status:["Active"],createdBy:[this.securityService.currentUser.userName],createDt:[this.securityService.currentUser.processDate],modifyBy:[this.securityService.currentUser.userName],modifyDt:[this.securityService.currentUser.processDate],edit:!1})}get f(){return this.form.controls}findUserRole(){let t=[];this.userRolesPickList=[];let s=new x;this.systemAdmin.findMemberType(s).pipe((0,p.P)()).subscribe(a=>{if("00"===a.code){t=a.data;for(var l=0;l<t.length;l++)this.userRolesPickList.push(t[l])}})}findEntityData(){this.f.employeeId.setValue(this.selectedData.employeeId),this.f.userName.setValue(this.selectedData.userName),this.f.fullName.setValue(this.selectedData.fullName),this.f.userRoleId.setValue(this.selectedData.userRoleId),this.f.emailAddress.setValue(this.selectedData.emailAddress),this.f.phoneNo.setValue(this.selectedData.phoneNo),this.f.receiveBillerStmnt.setValue(this.selectedData.receiveBillerStmnt),this.f.lockUser.setValue(this.selectedData.lockUser),this.f.pwdEnhancedFlag.setValue(this.selectedData.pwdEnhancedFlag),this.f.userPwd.setValue(this.selectedData.userPwd),this.f.status.setValue(this.selectedData.status),this.f.createdBy.setValue(this.selectedData.createdBy),this.f.createDt.setValue(this.selectedData.createDt),this.f.edit.setValue(!0)}onSubmit(){if(this.submitted=!0,this.form.invalid)return this.alertService.displayInfo("Please fill all the fields"),void(this.loading[0]=!1);this.loading[0]=!0,this.systemAdmin.maintainUsers(this.prepareSubmitData()).pipe((0,p.P)()).subscribe(t=>{this.loading[0]=!1,"00"===t.code?(this.alertService.displaySuccess("Record Saved Successfully"),this.submitted=!1,this.onClose()):this.alertService.displayError(t.message)},t=>{this.loading[0]=!1,this.submitted=!1,this.alertService.displayError(t)})}onKeyUP(t){this.f.userName.setValue(t.toUpperCase())}prepareSubmitData(){let t=new Ae.m;return t.employeeId=this.f.employeeId.value,t.userName=this.f.userName.value,t.fullName=this.f.fullName.value,t.userRoleId=this.f.userRoleId.value,t.emailAddress=this.f.emailAddress.value,t.phoneNo=this.f.phoneNo.value,t.receiveBillerStmnt=this.f.receiveBillerStmnt.value,t.lockUser=this.f.lockUser.value,t.pwdEnhancedFlag=this.f.pwdEnhancedFlag.value,t.userPwd=this.f.userPwd.value,t.status=this.f.status.value,t.createdBy=this.f.createdBy.value,t.createDt=this.f.createDt.value,t.modifyBy=this.f.modifyBy.value,t.modifyDt=this.f.modifyDt.value,t.edit=this.isEdit,t}onClose(){this.navigation.goBack()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.gz),e.Y36(r.qu),e.Y36(U.F),e.Y36(y.I),e.Y36(v.V),e.Y36(Z.c),e.Y36(_.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users-maintain"]],decls:61,vars:5,consts:[["header","Maintain User"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"col-sm-12"],["appearance","outline"],["matInput","","autocomplete","off","formControlName","fullName"],[1,"col-sm-6"],["matInput","","autocomplete","off","formControlName","userName",3,"readonly","input"],["formControlName","userRoleId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","autocomplete","off","formControlName","emailAddress"],["matInput","","autocomplete","off","formControlName","phoneNo"],[1,"col-sm-3"],["formControlName","receiveBillerStmnt"],["value","N"],["value","Y"],["formControlName","lockUser"],["matInput","","autocomplete","off","type","password","formControlName","userPwd",3,"readonly"],[1,"col-md-12","text-right"],["class","btn btn-primary btn-sm mr-1 mb-1","style","width: 90px;",3,"disabled","click",4,"ngIf"],["type","button","type","button",1,"btn","btn-danger","btn-sm","mr-1","mb-1",2,"width","90px",3,"click"],[1,"fa","fa-times"],[3,"value"],[1,"btn","btn-primary","btn-sm","mr-1","mb-1",2,"width","90px",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"fa","fa-check"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,s){1&t&&(e.TgZ(0,"p-panel",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"mat-form-field",4),e.TgZ(5,"mat-label"),e._uU(6,"Full Name:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",2),e.TgZ(9,"div",6),e.TgZ(10,"mat-form-field",4),e.TgZ(11,"mat-label"),e._uU(12,"User Name"),e.qZA(),e.TgZ(13,"input",7),e.NdJ("input",function(l){return s.onKeyUP(l.target.value)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"mat-form-field",4),e.TgZ(16,"mat-label"),e._uU(17,"User Role"),e.qZA(),e.TgZ(18,"mat-select",8),e.YNc(19,be,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",2),e.TgZ(21,"div",6),e.TgZ(22,"mat-form-field",4),e.TgZ(23,"mat-label"),e._uU(24,"Email Address:"),e.qZA(),e._UZ(25,"input",10),e.qZA(),e.qZA(),e.TgZ(26,"div",6),e.TgZ(27,"mat-form-field",4),e.TgZ(28,"mat-label"),e._uU(29,"Phone Number:"),e.qZA(),e._UZ(30,"input",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",2),e.TgZ(32,"div",12),e.TgZ(33,"mat-form-field",4),e.TgZ(34,"mat-label"),e._uU(35,"Receive daily biller statements"),e.qZA(),e.TgZ(36,"mat-select",13),e.TgZ(37,"mat-option",14),e._uU(38,"NO"),e.qZA(),e.TgZ(39,"mat-option",15),e._uU(40,"YES"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",12),e.TgZ(42,"mat-form-field",4),e.TgZ(43,"mat-label"),e._uU(44,"Lock User"),e.qZA(),e.TgZ(45,"mat-select",16),e.TgZ(46,"mat-option",14),e._uU(47,"NO"),e.qZA(),e.TgZ(48,"mat-option",15),e._uU(49,"YES"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",6),e.TgZ(51,"mat-form-field",4),e.TgZ(52,"mat-label"),e._uU(53,"Password:"),e.qZA(),e._UZ(54,"input",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",2),e.TgZ(56,"div",18),e.YNc(57,_e,4,2,"button",19),e.TgZ(58,"button",20),e.NdJ("click",function(){return s.onClose()}),e._UZ(59,"i",21),e._uU(60," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",s.form),e.xp6(12),e.Q6J("readonly",!s.isAddMode),e.xp6(6),e.Q6J("ngForOf",s.userRolesPickList),e.xp6(35),e.Q6J("readonly",!s.isAddMode),e.xp6(3),e.Q6J("ngIf",!s.isView))},directives:[A.s,r._Y,r.JL,r.sg,u.KE,u.hX,T.Nt,r.Fj,r.JJ,r.u,w.gD,g.sg,I.ey,g.O5],styles:[""]}),i})();function Se(i,n){1&i&&(e.TgZ(0,"tr",23),e.TgZ(1,"th"),e._uU(2,"Full Name"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Login ID"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Mobile Phone"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"User Group"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Status"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Create Date"),e.qZA(),e.qZA())}function Ue(i,n){if(1&i&&(e.TgZ(0,"tr",24),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(t.fullName),e.xp6(2),e.Oqu(t.userName),e.xp6(2),e.Oqu(t.phoneNo),e.xp6(2),e.Oqu(t.userRoleId),e.xp6(2),e.Oqu(t.status),e.xp6(2),e.Oqu(t.createDt)}}function Ce(i,n){1&i&&e._UZ(0,"span",25)}const qe=[{path:"",children:[{path:"user-role-search",component:ve,data:{title:"User Roles List",breadcrumb:"User Roles List"}},{path:"user-role/:id",component:he,data:{title:"User Role Details",breadcrumb:"User Role Details"}},{path:"user-role-access",component:ce,data:{title:"Charge Type Search"}},{path:"system-parameter",component:W,data:{title:"System Parameters",breadcrumb:"System Parameters"}},{path:"system-parameter/:id",component:H,data:{title:"Maintain Parameters",breadcrumb:"Maintain Parameters"}},{path:"user-search",component:(()=>{class i{constructor(t,s,a,l,c,m,f){this.router=t,this.fb=s,this.storage=a,this.alertService=l,this.dialogService=c,this.messageService=m,this.systemAdminService=f,this.customerType=[],this.loading=[!1,!1,!1,!1]}ngOnInit(){this.createForms(),this.onSearch()}createForms(){this.form=this.fb.group({fullName:[null]})}get f(){return this.form.controls}onSearch(){this.f.fullName.setValue(""==this.f.fullName.value?null:this.f.fullName.value),this.loading[0]=!0,this.systemAdminService.findUsers(this.form.value).pipe((0,p.P)()).subscribe(t=>{this.loading[0]=!1,"00"===t.code?this.data=t.data:this.alertService.displayError(t.message)},t=>{this.loading[0]=!1,this.alertService.displayError(t)})}onEdit(){null!=this.selectedData?(this.storage.setEntity(this.selectedData),this.router.navigate(["system-admin/user","Edit"])):this.alertService.displayInfo("Select a record to modify")}onView(){null!=this.selectedData?(this.storage.setEntity(this.selectedData),this.router.navigate(["system-admin/user","View"])):this.alertService.displayInfo("Select a record to view")}onAdd(){this.router.navigate(["system-admin/user","Add"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(r.qu),e.Y36(v.V),e.Y36(Z.c),e.Y36(C.xA),e.Y36(b.ez),e.Y36(_.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users-search"]],decls:32,vars:9,consts:[["header","System Users"],[3,"formGroup"],[1,"form-row"],[1,"col-sm-4"],["appearance","outline"],["matInput","","autocomplete","off","type","text","formControlName","fullName"],[1,"col-md-8","text-right"],[1,"btn","btn-primary","btn-sm","mr-1","mb-1",2,"height","50%",3,"click"],[1,"fa","fa-search"],[1,"btn","btn-warning","btn-sm","mr-1","mb-1",2,"height","50%",3,"click"],[1,"fa","fa-eye"],[1,"btn","btn-success","btn-sm","mr-1","mb-1",2,"height","50%",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-plus"],["routerLink","/dashboard/analytics",1,"btn","btn-danger","btn-sm","mr-1","mb-1",2,"height","50%"],[1,"fa","fa-times"],[1,"form-group","form-row"],[1,"col-sm-12"],["styleClass","p-datatable-sm mt-1 ml-2 mr-2 prime-ng-table","responsiveLayout","scroll","selectionMode","single","dataKey","employeeId",3,"value","paginator","rows","showCurrentPageReport","responsive","selection","loading","selectionChange"],["pTemplate","header"],["pTemplate","body"],[1,"col-sm-12","text-center"],["style","color: blue;","class","spinner-border spinner-border-sm mr-1 text-center",4,"ngIf"],[2,"font-size","12px"],[2,"font-size","12px",3,"pSelectableRow"],[1,"spinner-border","spinner-border-sm","mr-1","text-center",2,"color","blue"]],template:function(t,s){1&t&&(e.TgZ(0,"p-panel",0),e.TgZ(1,"form",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"mat-form-field",4),e.TgZ(5,"mat-label"),e._uU(6,"User Name:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"button",7),e.NdJ("click",function(){return s.onSearch()}),e._UZ(10,"i",8),e._uU(11," Search "),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return s.onView()}),e._UZ(13,"i",10),e._uU(14," View "),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return s.onEdit()}),e._UZ(16,"i",12),e._uU(17," Edit "),e.qZA(),e.TgZ(18,"button",7),e.NdJ("click",function(){return s.onAdd()}),e._UZ(19,"i",13),e._uU(20," Add "),e.qZA(),e.TgZ(21,"button",14),e._UZ(22,"i",15),e._uU(23," Close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"div",17),e.TgZ(26,"p-table",18),e.NdJ("selectionChange",function(l){return s.selectedData=l}),e.YNc(27,Se,13,0,"ng-template",19),e.YNc(28,Ue,13,7,"ng-template",20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",2),e.TgZ(30,"div",21),e.YNc(31,Ce,1,0,"span",22),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",s.form),e.xp6(25),e.Q6J("value",s.data)("paginator",!0)("rows",50)("showCurrentPageReport",!0)("responsive",!0)("selection",s.selectedData)("loading",s.loading[0]),e.xp6(5),e.Q6J("ngIf",s.loading[0]))},directives:[A.s,r._Y,r.JL,r.sg,u.KE,u.hX,T.Nt,r.Fj,r.JJ,r.u,d.rH,h.iA,b.jx,h.Ei,g.O5],styles:[""]}),i})(),data:{title:"Users Listing",breadcrumb:"Users Listing"}},{path:"user/:id",component:ye,data:{title:"User Details",breadcrumb:"User Details"}},{path:"service-channel-search",component:L,data:{title:"Service Channel Listing",breadcrumb:"Service Channel"}},{path:"service-channel/:id",component:F,data:{title:"Service Channel Maintain",breadcrumb:"Maintain Service Channel"}}]}];let De=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.Bz.forChild(qe)],d.Bz]}),i})();var Ne=o(61620),we=o(47423),Ie=o(9224),xe=o(77446),Re=o(48966),Ee=o(43954),Je=o(25245),Ye=o(14623),Me=o(92181),Ve=o(86087),Pe=o(20773),ke=o(79814),Fe=o(2638),Oe=o(32075),Be=o(53251),Qe=o(34594),Le=o(40845),Ge=o(31874);let ze=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,De,we.ot,ke.Fk,Pe.Cq,Me.Tx,xe.p9,Be.Nh,Qe.g0,Je.Ps,Fe.SJ,Ye.ie,u.lN,Ie.QW,Ee.N6,Re.Is,Oe.p0,Ve.TU,w.LD,Ne.o9,h.U$,Le.hJ,A.Q,r.u5,r.UX,I.XK,T.c,D.FA,Ge.$9]]}),i})()}}]);