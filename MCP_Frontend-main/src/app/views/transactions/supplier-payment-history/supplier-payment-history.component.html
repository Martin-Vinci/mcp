<p-panel header="EFRIS-Invoice History">
    <form [formGroup]="form">
        <div class="form-row">
            <div class="col-md-12 text-right">
                <br>
                <button class="btn btn-primary btn-sm mr-1 mb-1 " (click)="onSearch()">
                    <i class="fa fa-search"></i> Search
                </button>
                <button class="btn btn-primary btn-sm mr-1 mb-1 " (click)="onAdd()">
                    <i class="fa fa-plus"></i> Add
                </button>
                <button class="btn btn-primary btn-sm mr-1 mb-1 " (click)="downloadFile()">
                    <i class="fa fa-download"></i> Download Invoice
                </button>
                <button class="btn btn-danger btn-sm mr-1 mb-1 " routerLink="/dashboard/analytics">
                    <i class="fa fa-times  "></i> Close
                </button>
            </div>
        </div>
        <div class="form-group form-row">
            <div class="col-sm-12">
                <p-table [value]="data" [paginator]="true" [rows]="50"
                    styleClass="p-datatable-sm mt-1 ml-2 mr-2 prime-ng-table" responsiveLayout="scroll"
                    [responsive]="true" selectionMode="single" [(selection)]="selectedData" dataKey="invoiceId"
                    [loading]="loading[0]" responsiveLayout="scroll">
                    <ng-template pTemplate="header">
                        <tr style="font-size: 12px;">
                            <td>Invoice #</td>
                            <td>Buyer Tin</td>
                            <td>Buyer NinBrn</td>
                            <td>Buyer Legal Name</td>
                            <td>AntifakeCode</td>
                            <td>Operator</td>
                            <td>Currency</td>
                            <td>Response Code</td>
                            <td>Response Message</td>
                            <td>Create Date</td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-selectedData>
                        <tr style="font-size: 12px;" [pSelectableRow]="selectedData">
                            <td>{{selectedData.invoiceNo}}</td>
                            <td>{{selectedData.buyerTin}}</td>
                            <td>{{selectedData.buyerNinBrn}}</td>
                            <td>{{selectedData.buyerLegalName}}</td>
                            <td>{{selectedData.antifakeCode}}</td>
                            <td>{{selectedData.efrisOperator}}</td>
                            <td>{{selectedData.currency}}</td>
                            <td>{{selectedData.responseCode}}</td>
                            <td>{{selectedData.responseMessage}}</td>
                            <td>{{selectedData.createDate}}</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
        <div class="form-row">
            <div class="col-sm-12  text-center">
                <span style="color: blue;" *ngIf="loading[0]"
                    class="spinner-border spinner-border-sm mr-1 text-center"></span>
            </div>
        </div>
    </form>
</p-panel>